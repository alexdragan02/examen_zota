<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Quizescu â€” Examen SIEB (Corectat)</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --clr-bg: #f0f4f8;
      --clr-card-bg: rgba(255,255,255,0.6);
      --clr-accent: #4e89ff;
      --clr-accent-hover: #3367d6;
      --clr-success: #34a853;
      --clr-error:   #d93025;
      --clr-text: #1e213a;
      --radius: 12px;
      --transition: 0.3s ease;
      --font: 'Roboto', sans-serif;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 0;
      font-family: var(--font);
      background: var(--clr-bg);
      color: var(--clr-text);
      display: flex; flex-direction: column; align-items: center;
      min-height: 100vh;
    }
    header {
      width: 100%; max-width: 800px;
      padding: 1rem; text-align: center;
      background: linear-gradient(90deg, var(--clr-accent), #8f78ff);
      color: #fff; border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    header h1 { margin: 0; font-size: 1.8rem; }

    #floating-step {
      position: fixed; top: 20px; right: 20px;
      background: rgba(66,133,244,0.9); color: #fff;
      padding: 0.5rem 1rem; border-radius: var(--radius);
      font-weight: 500; pointer-events: none; z-index: 10;
    }

    #selection {
      width: 100%; max-width: 800px; padding: 1rem;
      margin-top: 1rem;
    }
    .subtest-card {
      background: #fff; border-radius: var(--radius);
      padding: 1rem; margin-bottom: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      display: flex; justify-content: space-between; align-items: center;
      cursor: pointer; transition: transform 0.2s;
    }
    .subtest-card:hover { transform: scale(1.02); }
    .subtest-card p { margin: 0; font-weight: 500; }

    #quiz {
      width: 100%; max-width: 800px; padding: 0 1rem; margin-top: 1rem;
    }
    .question-container {
      background: var(--clr-card-bg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.4);
      border-radius: var(--radius);
      padding: 1.5rem; margin-bottom: 1rem;
      box-shadow: 0 8px 16px rgba(0,0,0,0.05);
    }
    .question-title {
      font-size: 1.25rem; font-weight: 500;
      margin-bottom: 1rem;
    }
    .answers-table {
      width: 100%; border-collapse: separate;
      border-spacing: 0 8px; margin-bottom: 1rem;
    }
    .answers-table td.answer {
      padding: 14px 18px; border: 2px solid #ddd;
      border-radius: var(--radius); background: #fff;
      cursor: pointer; transition: all var(--transition);
      user-select: none;
    }
    .answers-table td.answer:hover {
      background: #fafafa; border-color: #ccc; transform: translateY(-2px);
    }
    .answers-table td.answer.selected {
      background: #e8f0fe; border-color: var(--clr-accent);
    }
    .answers-table td.answer.correct {
      background: #e0f7e9 !important; border-color: var(--clr-success) !important;
    }
    .answers-table td.answer.incorrect {
      background: #ffeaea !important; border-color: var(--clr-error) !important;
    }

    .controls {
      display: flex; justify-content: flex-end; gap: 0.5rem;
    }
    .btn {
      padding: 0.6rem 1.2rem; border: none; border-radius: var(--radius);
      font-size: 0.95rem; font-weight: 500; cursor: pointer;
      transition: background var(--transition), box-shadow 0.2s;
    }
    .btn-check { background: var(--clr-accent); color: #fff; }
    .btn-check:disabled { background: #a0c3ff; cursor: not-allowed; }
    .btn-reset { background: #fff; color: #666; border: 2px solid #ddd; }
    .btn-finish { background: var(--clr-success); color: #fff; margin-top: 1rem; }

    #navigation { width: 100%; max-width: 800px; padding: 0 1rem; margin-bottom: 2rem; }
    #finish-container { width: 100%; max-width: 800px; padding: 1rem; text-align: center; }
  </style>
</head>
<body>

  <div id="floating-step">SelecteazÄƒ un subtest</div>
  <header><h1>ðŸŽ¯ Quizescu: SIEB</h1></header>

  <div id="selection"></div>
  <main id="quiz" style="display:none;"></main>
  <div id="navigation" class="controls" style="display:none;"></div>
  <div id="finish-container"></div>

  <script>
    // ÃŽntrebÄƒri actualizate conform cerinÈ›ei
    const questions = [
      {
        question: "Un CRM reprezintÄƒ:",
        answers: [
          "o strategie de afacere ce selecteazÄƒ È™i administreazÄƒ cele mai importante relaÈ›ii cu clienÈ›i",
          "o soluÈ›ie bazatÄƒ pe tehnologii Internet pentru procurarea de bunuri È™i servicii",
          "Monitorizarea vÃ¢nzÄƒrilor È™i produselor rÄƒmase disponibile Ã®n stoc",
          "o strategie de piaÈ›Äƒ prin care producÄƒtorul Ã®È™i selecteazÄƒ clienÈ›ii spre care È›inteÈ™te",
          "AchiziÈ›ia bunurilor È™i serviciilor pe mÄƒsurÄƒ ce este nevoie de ele"
        ],
        correctIndex: 0
      },
      {
        question: "Faza a 3-a din evoluÈ›ia sistemelor ERP este reprezentatÄƒ de :",
        answers: [
          "Manufacturing Resource Planning (MRP II)",
          "Manufacturing Requirements Planning (MRP)",
          "Capacity Requirements Planning",
          "Enterprise Resource Planning III (ERP III)",
          "Material Requirements Planning (MRP)"
        ],
        correctIndex: 0
      },
      {
        question: "Ce schimbÄƒri au influenÈ›at sistemele ERP pentru a putea fi achiziÈ›ionate È™i de cÄƒtre companii mai mici?",
        answers: [
          "scÄƒderea complexitÄƒÈ›ii acestora",
          "accelerarea ciclului de inovaÈ›ie-producÈ›ie-demodat",
          "Ã®mbunÄƒtÄƒÈ›irea lunarÄƒ a tehnicii de calcul È™i creÈ™terea preÈ›urilor",
          "Ã®mbunÄƒtÄƒÈ›irea continuÄƒ a tehnicii de calcul È™i scÄƒderea preÈ›urilor",
          "creÈ™terea numÄƒrului de module pe care este structurat un ERP"
        ],
        correctIndex: 3
      },
      {
        question: "Acronimul DMZ provine de la ?",
        answers: [
          "Demilitarized Zone",
          "Dual Model Zone",
          "Dual Mode Zone",
          "Demystified Zone",
          "DeMined Zone"
        ],
        correctIndex: 0
      },
      {
        question: "Faza a doua din evoluÈ›ia sistemelor ERP se numeÈ™te:",
        answers: [
          "Management Requirements Planning",
          "Capacity Requirements Planning",
          "Manufacturing Resource Planning",
          "Material Requirements Planning",
          "Enterprise Relocation Planning"
        ],
        correctIndex: 1
      },
      {
        question: "Care sunt cele 3 direcÈ›ii principale de administrare a lanÈ›ului de aprovizionare (SCM)?",
        answers: [
          "fluxul economico-financiar, fluxul monetar, fluxul produsului",
          "fluxul produsului, fluxul clientului, fluxul de achiziÈ›ie",
          "fluxul informaÈ›ional, analiza financiarÄƒ, livrarea produsului",
          "analiza financiarÄƒ, analiza produsului, analiza informaÈ›ionalÄƒ",
          "fluxul produsului, fluxul informaÈ›ional, fluxul financiar"
        ],
        correctIndex: 4
      },
      {
        question: "AplicaÈ›ia CRM are Ã®n centrul atenÈ›iei:",
        answers: [
          "Produsul",
          "Angajatul",
          "ProducÄƒtorul",
          "Compania",
          "Clientul"
        ],
        correctIndex: 4
      },
      {
        question: "Utilitatea unui CRM analitic este datÄƒ de:",
        answers: [
          "Ã®mbunÄƒtÄƒÈ›irea relaÈ›iilor cu clienÈ›ii",
          "CreÈ™terea vÃ¢nzÄƒrilor",
          "Managementul datelor clienÈ›ilor",
          "Analiza asupra furnizorilor È™i clienÈ›ilor (vÃ¢nzÄƒri, plÄƒÈ›i, termene contractuale)",
          "Managementul datelor furnizorilor"
        ],
        correctIndex: 3
      },
      {
        question: "Ce aspect NU caracterizeazÄƒ ERP?",
        answers: [
          "oferirea bazei unui comerÈ› electronic eficient",
          "crearea unei legÄƒturi atÃ¢t cu furnizorii, cÃ¢t È™i cu clienÈ›ii Ã®ntr-un lanÈ› complet furnizor-client",
          "dezvoltarea unui proces de afacere pentru luarea deciziilor",
          "imposibilitatea integrÄƒrii funcÈ›ionale multiple Ã®ntre departamente",
          "oferirea unei posibilitÄƒÈ›i de lucru la Ã®nalte nivele de servicii pentru consumatori, productivitate, simultan cu reducerea costurilor"
        ],
        correctIndex: 3
      },
      {
        question: "LicitaÈ›ia tÄƒcutÄƒ (silent auction) presupune cÄƒ:",
        answers: [
          "licitaÈ›iile se depun Ã®n plic Ã®nchis simultan, astfel Ã®ncÃ¢t nici unul dintre ofertanÈ›i nu È™tie de oferta celuilalt",
          "licitatorii Ã®È™i scriu preÈ›urile oferite pe bucÄƒÈ›i de hÃ¢rtie, dupÄƒ ce articolele sunt afiÈ™ate, putÃ¢nd cunoaÈ™te sau nu preÈ›urile propuse de cÄƒtre ceilalÈ›i",
          "participanÈ›ii liciteazÄƒ Ã®n mod direct È™i deschis Ã®ntre ei, finalizarea licitaÈ›iei mutÃ¢ndu-se face atunci cÃ¢nd este atins fie un preÈ› prestabilit, fie ultimul preÈ› oferit Ã®nainte de expirarea licitaÈ›iei",
          "se pleacÄƒ de la un preÈ› maxim cerut de vÃ¢nzÄƒtor, care poate fi coborÃ¢t pÃ¢nÄƒ cÃ¢nd un cumpÄƒrÄƒtor acceptÄƒ preÈ›ul",
          "preÈ›ul plÄƒtit nu este cel propus de cÃ¢È™tigÄƒtor, ci al doilea preÈ› ca valoare"
        ],
        correctIndex: 1
      },
      {
        question: "Care nu este scopul departamentului Customer Intelligence Ã®ntr-o companie ?",
        answers: [
          "Ã®ncadrare clienÈ›ilor Ã®n profile È™i segmente",
          "integrarea datelor despre clienÈ›i",
          "analiza comportamentului clienÈ›ilor",
          "recunoaÈ™terea È™i adresarea corectÄƒ a nevoilor clienÈ›ilor",
          "luarea de decizii strategice Ã®n companie"
        ],
        correctIndex: 4
      },
      {
        question: "Care dintre urmÄƒtoarele standarde este folosit cu precÄƒdere Ã®n aplicaÈ›iile pentru e-business ?",
        answers: [
          "HTML",
          "HTTP",
          "XML",
          "CSS",
          "FTP"
        ],
        correctIndex: 2
      },
      {
        question: "Ce cerinÈ›Äƒ a aplicaÈ›iilor e-business are rolul de a asigura portabilitatea aplicaÈ›iilor?",
        answers: [
          "Standardizarea",
          "Disponibilitatea",
          "Scalabilitatea",
          "UÈ™urinÈ›a Ã®n administrare",
          "Securitatea"
        ],
        correctIndex: 0
      },
      {
        question: "Care dintre urmÄƒtorii factori este cel mai puÈ›in important Ã®n contextul CRM-ului mobil?",
        answers: [
          "Oferirea unei bune securizÄƒri",
          "FuncÈ›ionalitatea Off-line",
          "UÈ™urinÈ›a Ã®n exploatare",
          "Asigurarea informaÈ›iei corecte Ã®n timp real",
          "Asigurarea de standarde deschise",
          "Design competitiv al aplicaÈ›iei"
        ],
        correctIndex: 5
      },
      {
        question: "Printre standardele folosite Ã®n aplicaÈ›iile de e-business Ã®ntÃ¢lnim (selectaÈ›i douÄƒ):",
        answers: [
          "XML",
          "OSI",
          "ERP",
          "IEEE",
          "EDI"
        ],
        correctIndex: [0, 4]
      },
      {
        question: "Care dintre urmÄƒtoarele afirmaÈ›ii NU este adevÄƒratÄƒ? SCM Ã®i permite unei organizaÈ›ii sÄƒ achiziÈ›ioneze materii prime/produse/servicii:",
        answers: [
          "Ã®n cantitÄƒÈ›i impuse de furnizor",
          "la momentul oportun",
          "Ã®n cantitatea corespunzÄƒtoare",
          "Ã®n mod eficient",
          "la costuri acceptabile"
        ],
        correctIndex: 0
      },
      {
        question: "Ce presupune modelul de livrare cloud PaaS?",
        answers: [
          "livrarea de AaaS, probabil versiunea de cloud computing cu care este obiÈ™nuitÄƒ sÄƒ lucreze majoritatea oamenilor Ã®n fiecare zi",
          "include mediul (baza de date, runtime, server web etc.) Ã®n care utilizatorii Ã®È™i pot construi, rula È™i compila aplicaÈ›iile fÄƒrÄƒ sÄƒ-È™i facÄƒ griji cu privire la infrastructura de bazÄƒ",
          "nu se pot gestiona datele È™i resursele aplicaÈ›iei",
          "orice tip de produs intern",
          "blocuri fundamentale de calcul ce pot fi Ã®nchiriate: servere fizice sau virtuale, metode de stocare, reÈ›ele"
        ],
        correctIndex: 1
      },
      {
        question: "Care este unul dintre scopurile E-Procurement-ului?",
        answers: [
          "accesul rapid la informaÈ›ii",
          "maximizarea achiziÈ›iilor fÄƒcute de la vÃ¢nzÄƒtori",
          "Ã®mbunÄƒtÄƒÈ›irea procesului de platÄƒ",
          "asigurarea livrÄƒrii la timp, aproape mereu",
          "creÈ™terea preÈ›urilor de achiziÈ›ie"
        ],
        correctIndex: 2
      },
      {
        question: "Care dintre urmÄƒtoarele acronime reprezintÄƒ un standard de integrare a aplicaÈ›iilor de e-procurement ?",
        answers: [
          "SMTP",
          "XBBL",
          "ePXML",
          "XBRL",
          "XRL"
        ],
        correctIndex: 3
      }
    ];

    // Configurare Subteste (19 Ã®ntrebÄƒri total -> 10 + 9)
    const subtestSizes = [10, 9];
    let subtestStarts = [];
    let acc = 0;
    for (let s of subtestSizes) {
      subtestStarts.push(acc);
      acc += s;
    }

    // State
    let currentSubtest = null;
    let currentQuestionIndex = 0; // global index
    let questionIndexInSubtest = 0;
    let score = 0;
    let userAnswers = [];
    let subtestScores = new Array(subtestSizes.length).fill(null);

    // DOM Elements
    const selectionDiv = document.getElementById('selection');
    const quizMain = document.getElementById('quiz');
    const navDiv = document.getElementById('navigation');
    const finishContainer = document.getElementById('finish-container');
    const floatingStep = document.getElementById('floating-step');

    // --- INIT ---
    function init() {
      renderSelection();
    }

    function renderSelection() {
      quizMain.style.display = 'none';
      navDiv.style.display = 'none';
      finishContainer.innerHTML = '';
      selectionDiv.innerHTML = '';
      
      let allDone = true;
      let totalScore = 0;
      let totalMax = 0;

      subtestSizes.forEach((size, idx) => {
        const isDone = subtestScores[idx] !== null;
        if (!isDone) allDone = false;
        
        const card = document.createElement('div');
        card.className = 'subtest-card';
        card.innerHTML = `
          <div>
            <h3>Subtest ${idx + 1}</h3>
            <p>${size} Ã®ntrebÄƒri</p>
          </div>
          <div style="text-align:right;">
             ${isDone 
               ? `<span style="color:var(--clr-success); font-weight:bold;">${subtestScores[idx]}/${size}</span>` 
               : `<span style="color:var(--clr-accent);">Start</span>`}
          </div>
        `;
        card.onclick = () => startSubtest(idx);
        selectionDiv.appendChild(card);
        
        if (isDone) {
          totalScore += subtestScores[idx];
          totalMax += size;
        }
      });

      if (allDone) {
        finishContainer.innerHTML = `
          <div class="question-container" style="text-align:center;">
            <h2>FelicitÄƒri! Ai completat toate subtestele.</h2>
            <p style="font-size:1.5rem; margin:1rem 0;">Scor Total: <span style="color:var(--clr-accent);">${totalScore} / ${totalMax}</span></p>
            <button class="btn btn-reset" onclick="location.reload()">ReÃ®ncepe Tot</button>
          </div>
        `;
      }
      
      floatingStep.textContent = "SelecteazÄƒ un subtest";
    }

    function startSubtest(idx) {
      currentSubtest = idx;
      questionIndexInSubtest = 0;
      currentQuestionIndex = subtestStarts[idx];
      score = 0;
      userAnswers = new Array(subtestSizes[idx]).fill(null);
      
      selectionDiv.innerHTML = '';
      finishContainer.innerHTML = '';
      quizMain.style.display = 'block';
      navDiv.style.display = 'flex';
      
      loadQuestion();
    }

    function loadQuestion() {
      const qData = questions[currentQuestionIndex];
      const isMulti = Array.isArray(qData.correctIndex);
      
      // Update floating step
      floatingStep.textContent = `Subtest ${currentSubtest + 1} | ÃŽntrebarea ${questionIndexInSubtest + 1}/${subtestSizes[currentSubtest]}`;

      quizMain.innerHTML = `
        <div class="question-container">
          <div class="question-title">
            ${questionIndexInSubtest + 1}. ${qData.question}
            ${isMulti ? '<span style="font-size:0.8rem; color:var(--clr-accent); display:block; margin-top:5px;">(AlegeÈ›i toate variantele corecte)</span>' : ''}
          </div>
          <table class="answers-table">
            <tbody>
              ${qData.answers.map((ans, i) => `
                <tr>
                  <td class="answer" id="ans-${i}" onclick="handleAnswerClick(${i}, ${isMulti})">
                    ${String.fromCharCode(97 + i)}) ${ans}
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;

      renderControls(isMulti);
    }

    function renderControls(isMulti) {
      navDiv.innerHTML = '';
      
      if (isMulti) {
        // Multi choice buttons
        const btnCheck = document.createElement('button');
        btnCheck.className = 'btn btn-check';
        btnCheck.textContent = 'VerificÄƒ';
        btnCheck.id = 'btn-check-multi';
        btnCheck.onclick = checkMultiAnswer;
        
        const btnReset = document.createElement('button');
        btnReset.className = 'btn btn-reset';
        btnReset.textContent = 'Reset';
        btnReset.onclick = resetMultiSelection;

        navDiv.appendChild(btnReset);
        navDiv.appendChild(btnCheck);
      } 
      
      // Next/Finish Button (hidden initially for single choice until selection)
      const btnNext = document.createElement('button');
      btnNext.className = 'btn btn-check';
      btnNext.id = 'btn-next';
      btnNext.style.display = isMulti ? 'none' : 'none'; // logic specific
      
      const isLast = questionIndexInSubtest === subtestSizes[currentSubtest] - 1;
      btnNext.textContent = isLast ? 'FinalizeazÄƒ Subtest' : 'UrmÄƒtoarea';
      btnNext.onclick = nextQuestion;
      
      navDiv.appendChild(btnNext);
    }

    // --- LOGIC SINGLE CHOICE ---
    function handleAnswerClick(ansIdx, isMulti) {
      const qData = questions[currentQuestionIndex];
      
      if (isMulti) {
        // Toggle selection logic handled in checkMultiAnswer context, just visual here
        // But we need to check if already validated
        const btnCheck = document.getElementById('btn-check-multi');
        if (btnCheck.disabled) return; // already checked

        const el = document.getElementById(`ans-${ansIdx}`);
        el.classList.toggle('selected');
        return;
      }

      // Single Choice Logic
      // Check if already answered
      if (userAnswers[questionIndexInSubtest] !== null) return;

      const correct = qData.correctIndex;
      const isCorrect = (ansIdx === correct);
      
      // Mark selected
      const selectedEl = document.getElementById(`ans-${ansIdx}`);
      if (isCorrect) {
        selectedEl.classList.add('correct');
        score++;
      } else {
        selectedEl.classList.add('incorrect');
        // Show correct
        document.getElementById(`ans-${correct}`).classList.add('correct');
      }

      userAnswers[questionIndexInSubtest] = ansIdx;
      
      // Show Next Button
      const btnNext = document.getElementById('btn-next');
      btnNext.style.display = 'block';
    }

    // --- LOGIC MULTI CHOICE ---
    function resetMultiSelection() {
      const btnCheck = document.getElementById('btn-check-multi');
      if (btnCheck.disabled) return; // cannot reset after check
      
      const options = document.querySelectorAll('.answer');
      options.forEach(opt => opt.classList.remove('selected'));
    }

    function checkMultiAnswer() {
      const qData = questions[currentQuestionIndex];
      const correctIndices = qData.correctIndex; // array
      
      const options = document.querySelectorAll('.answer');
      let selectedIndices = [];
      
      options.forEach((opt, idx) => {
        if (opt.classList.contains('selected')) {
          selectedIndices.push(idx);
        }
      });

      if (selectedIndices.length === 0) return; // No selection

      // Validate
      // Compare arrays
      selectedIndices.sort();
      correctIndices.sort();
      
      const isCorrect = JSON.stringify(selectedIndices) === JSON.stringify(correctIndices);
      
      if (isCorrect) {
        score++;
        selectedIndices.forEach(idx => {
          document.getElementById(`ans-${idx}`).classList.remove('selected');
          document.getElementById(`ans-${idx}`).classList.add('correct');
        });
      } else {
        selectedIndices.forEach(idx => {
          document.getElementById(`ans-${idx}`).classList.remove('selected');
          document.getElementById(`ans-${idx}`).classList.add('incorrect');
        });
        // Highlight missed correct answers
        correctIndices.forEach(idx => {
          document.getElementById(`ans-${idx}`).classList.add('correct');
        });
      }
      
      // Disable Check/Reset, Show Next
      document.getElementById('btn-check-multi').disabled = true;
      document.getElementById('btn-check-multi').style.display = 'none';
      
      userAnswers[questionIndexInSubtest] = selectedIndices;
      
      const btnNext = document.getElementById('btn-next');
      btnNext.style.display = 'block';
    }

    function nextQuestion() {
      questionIndexInSubtest++;
      currentQuestionIndex++;
      
      if (questionIndexInSubtest < subtestSizes[currentSubtest]) {
        loadQuestion();
      } else {
        showSubtestSummary();
      }
    }

    function showSubtestSummary() {
      quizMain.style.display = 'none';
      navDiv.style.display = 'none';
      
      // Save Score
      subtestScores[currentSubtest] = score;
      const total = subtestSizes[currentSubtest];
      
      finishContainer.innerHTML = `
        <div class="question-container" style="text-align:center;">
          <h2>Subtest Finalizat!</h2>
          <p style="font-size:2rem; font-weight:700; color:var(--clr-accent);">
            ${score} / ${total}
          </p>
          <div style="margin-top:2rem;">
            <button class="btn btn-reset" onclick="retrySubtest()">RefÄƒ Subtest</button>
            <button class="btn btn-check" onclick="renderSelection()">Meniu Principal</button>
          </div>
        </div>
      `;
      floatingStep.textContent = "Rezumat Subtest";
    }

    function retrySubtest() {
      startSubtest(currentSubtest);
    }

    // Start App
    init();

  </script>
</body>
</html>